/* Updated styles for image-based flipbook */
:root{--bg:#0f172a;--card:#0f172a;--accent:#6366f1;--cover-color:#1e293b;--box-shadow:0 18px 40px rgba(0,0,0,0.6)}
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter, system-ui, Arial}
body{background:linear-gradient(180deg,#071029 0%,#071029 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden}
.wrapper{position:relative;width:100%;max-width:1200px;height:100vh;display:flex;align-items:center;justify-content:center;perspective:2000px}

.book{position:relative;width:400px;height:600px;display:flex;transform-style:preserve-3d;transition:transform .6s ease-in-out}
.book.open{transform:translateX(50%)}
.book.close-right{transform:translateX(100%)}

.book-page{position:absolute;width:100%;height:100%;top:0;left:0;transform-origin:left;transition:transform 1s cubic-bezier(0.645,0.045,0.355,1);transform-style:preserve-3d;background:#1e293b;border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,0.2)}

.book-page.turn{transform:rotateY(-180deg)}

.page-front, .page-back{position:absolute;width:100%;height:100%;top:0;left:0;background:#1e293b;padding:0;overflow:hidden;backface-visibility:hidden;border-radius:8px; transition: z-index .6s;}
.page-back{transform:rotateY(180deg)}

/* Pointer events logic to prevent clicking hidden faces */
.book-page .page-front { pointer-events: auto; }
.book-page .page-back { pointer-events: none; }

.book-page.turn .page-front { pointer-events: none; }
.book-page.turn .page-back { pointer-events: auto; }

.book-page img{width:100%;height:100%;object-fit:fill;display:block}

/* Navigation Buttons */
.nextprev-btn{position:absolute;bottom:20px;right:20px;width:40px;height:40px;background:rgba(255,255,255,0.2);color:#fff;display:flex;align-items:center;justify-content:center;border-radius:50%;cursor:pointer;z-index:10;transition:background .3s}
.nextprev-btn:hover{background:rgba(255,255,255,0.4)}
.nextprev-btn.back{left:20px;right:auto}

/* Z-Index Stacking for 14 sheets */
/* We want Sheet 1 on top, Sheet 14 at bottom */
#turn-1{z-index:14}
#turn-2{z-index:13}
#turn-3{z-index:12}
#turn-4{z-index:11}
#turn-5{z-index:10}
#turn-6{z-index:9}
#turn-7{z-index:8}
#turn-8{z-index:7}
#turn-9{z-index:6}
#turn-10{z-index:5}
#turn-11{z-index:4}
#turn-12{z-index:3}
#turn-13{z-index:2}
#turn-14{z-index:1}

/* Cover styles from screenshot (adapted) */
.cover{position:absolute;top:0;left:0;width:100%;height:100%;background:var(--cover-color);box-shadow:var(--box-shadow);border-radius:8px;transform-origin:left;z-index:20}
.cover.cover-left{z-index:-1;left:-100%} /* Positioned to the left of the book spine */
.cover.cover-right{z-index:100;transition:transform 1s cubic-bezier(0.645,0.045,0.355,1)}
.cover.cover-right.turn{transform:rotateY(-180deg)}

/* Responsive */
@media (max-width:768px){
  .book {
    width: 85vw;
    max-width: 400px;
    height: auto;
    aspect-ratio: 1/1.414;
    transition: transform .6s ease-in-out, width .6s ease-in-out;
  }
  .book.open {
    width: 42.5vw;
    max-width: 200px;
    transform: translateX(50%);
  }
  .book.close-right {
    width: 85vw;
    max-width: 400px;
    transform: translateX(100%);
  }
  .wrapper{padding:10px;height:100vh;align-items:center}
}
